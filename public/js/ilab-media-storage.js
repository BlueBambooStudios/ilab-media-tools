ClientRect.prototype.containsPoint=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom},function(a){var b=function(){a('.info-panel-tabs').each(function(){var b=a(this),c=null,d=null;b.find('li').each(function(){var b=a(this),e=a('#'+b.data('tab-target'));b.hasClass('active')&&(c=b,d=e),b.on('click',function(){c==b||(c.removeClass('active'),d.css({display:'none'}),b.addClass('active'),e.css({display:''}),c=b,d=e)})})});var b=null;a('.info-file-info-size').each(function(){b||(b=a(this))}),a('#ilab-other-sizes').on('change',function(){var c=a('#info-size-'+a(this).val());c!=b&&(b.css({display:'none'}),c.css({display:''}),b=c)}),a('.ilab-info-regenerate-thumbnails').on('click',function(b){var c=a(this);return c.data('imgix-enabled')&&!confirm('You are currently using Imgix, which makes this function rather unnecessary.  Are you sure you want to continue?')?!1:(b.preventDefault(),c.css({display:'none'}),a('#ilab-info-regenerate-status').css({display:''}),a.post(ajaxurl,{action:'ilab_media_cloud_regenerate_file',post_id:c.data('post-id')},function(b){c.css({display:''}),a('#ilab-info-regenerate-status').css({display:'none'}),'success'!=b.status&&alert(b.message)}),!1)})};b();var c=!0,d=a('<div class="ilab-loader-container"><div class="ilab-loader ilab-loader-dark"></div></div>'),f=a('<div id="ilab-media-grid-info-popup" class="hidden" style="left:0px; top:0px;"></div>'),g=a('<div class="ilab-media-grid-info-popup-content"></div>'),e=a('<div class="ilab-media-popup-arrow-left"><div></div></div>'),h=a('<div class="ilab-media-popup-arrow-right"><div></div></div>'),i=null,j=!1;f.append(e),f.append(g),f.append(h),a('body').append(f),a(document).on('mouseenter','img.ilab-s3-logo',function(){var k=Math.max;if(c){var l=a(this),m=this,n=l.data('post-id');j=!1,a('li.attachment').each(function(){var b=a(this);b.data('id')==n?(b.removeClass('info-unfocused'),b.addClass('info-focused')):(b.removeClass('info-focused'),b.addClass('info-unfocused'))}),g.text(''),g.append(d);var o=m.getBoundingClientRect(),p=document.body.scrollTop+(o.top+o.height/2-f.height()/2);p-=28;var q=k(document.documentElement.clientHeight,window.innerHeight||0),r=k(document.documentElement.clientWidth,window.innerWidth||0),s=document.body.scrollTop+q-40,t=0;p+f.height()>s?(t=p+f.height()-s,p=s-f.height()):p<document.body.scrollTop?(t=p-document.body.scrollTop,p=document.body.scrollTop):0>p&&(t=p,p=0);var u=o.left;u+f.width()<r-10?(i=e,e.css({transform:'translateY('+t+'px)'}),f.removeClass('popup-right'),f.addClass('popup-left'),f.css({left:o.left+'px',top:p+'px'})):(i=h,f.removeClass('popup-left'),f.addClass('popup-right'),h.css({transform:'translateY('+t+'px)'}),f.css({left:o.right-f.width()+'px',top:p+'px'})),f.removeClass('hidden'),setTimeout(function(){a.post(ajaxurl,{action:'ilab_s3_get_media_info',id:n},function(c){if(0!=c.length){var d=a(c);g.text(''),g.append(d),b(),setTimeout(function(){j=!0},500)}},'html')},300)}}),a(document).on('mousemove',function(b){if(j){var d=i.get(0).getBoundingClientRect();d.top-=5,d.bottom+=5;var e=g.get(0).getBoundingClientRect(),h=b.pageX,k=b.pageY-document.body.scrollTop;d.containsPoint(h,k)||e.containsPoint(h,k)||(c=!1,j=!1,f.addClass('hidden'),a('li.attachment').each(function(){var b=a(this);b.removeClass('info-focused'),b.removeClass('info-unfocused')}),setTimeout(function(){c=!0},300))}})}(jQuery);
//# sourceMappingURL=ilab-media-storage.js.map
