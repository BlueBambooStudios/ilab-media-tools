ClientRect.prototype.containsPoint=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom},function(a){var b=function(){a('.info-panel-tabs').each(function(){var b=a(this),c=null,d=null;b.find('li').each(function(){var b=a(this),e=a('#'+b.data('tab-target'));b.hasClass('active')&&(c=b,d=e),b.on('click',function(){c==b||(c.removeClass('active'),d.css({display:'none'}),b.addClass('active'),e.css({display:''}),c=b,d=e)})})});var b=null;a('.info-file-info-size').each(function(){b||(b=a(this))}),a('#ilab-other-sizes').on('change',function(){var c=a('#info-size-'+a(this).val());c!=b&&(b.css({display:'none'}),c.css({display:''}),b=c)}),a('.ilab-info-regenerate-thumbnails').on('click',function(b){var c=a(this);return c.data('imgix-enabled')&&!confirm('You are currently using Imgix, which makes this function rather unnecessary.  Are you sure you want to continue?')?!1:(b.preventDefault(),c.css({display:'none'}),a('#ilab-info-regenerate-status').css({display:''}),a.post(ajaxurl,{action:'ilab_media_cloud_regenerate_file',post_id:c.data('post-id')},function(b){c.css({display:''}),a('#ilab-info-regenerate-status').css({display:'none'}),'success'!=b.status&&alert(b.message)}),!1)})};b();var c=!0,d=a('<div id="ilab-media-grid-info-popup" class="hidden" style="left:0px; top:0px;"></div>'),f=a('<div class="ilab-media-grid-info-popup-content"></div>'),e=a('<div class="ilab-media-popup-arrow-left"><div></div></div>'),g=a('<div class="ilab-media-popup-arrow-right"><div></div></div>'),h=null,i=!1;d.append(e),d.append(f),d.append(g),a('body').append(d),a(document).on('mouseenter','img.ilab-s3-logo',function(){if(c){var j=a(this),k=this,l=j.data('post-id');a.post(ajaxurl,{action:'ilab_s3_get_media_info',id:l},function(c){var j=Math.max;if(0!=c.length){i=!1,a('li.attachment').each(function(){var b=a(this);b.data('id')==l?(b.removeClass('info-unfocused'),b.addClass('info-focused')):(b.removeClass('info-focused'),b.addClass('info-unfocused'))});var m=a(c);f.text(''),f.append(m),b();var n=k.getBoundingClientRect(),o=document.body.scrollTop+(n.top+n.height/2-d.height()/2);o-=28;var p=j(document.documentElement.clientHeight,window.innerHeight||0),q=j(document.documentElement.clientWidth,window.innerWidth||0),r=document.body.scrollTop+p-40,s=0;o+d.height()>r?(s=o+d.height()-r,o=r-d.height()):o<document.body.scrollTop?(s=o-document.body.scrollTop,o=document.body.scrollTop):0>o&&(s=o,o=0);var t=n.left;t+d.width()<q-10?(h=e,e.css({transform:'translateY('+s+'px)'}),d.removeClass('popup-right'),d.addClass('popup-left'),d.css({left:n.left+'px',top:o+'px'})):(h=g,d.removeClass('popup-left'),d.addClass('popup-right'),g.css({transform:'translateY('+s+'px)'}),d.css({left:n.right-d.width()+'px',top:o+'px'})),d.removeClass('hidden'),setTimeout(function(){i=!0},500)}},'html')}}),a(document).on('mousemove',function(b){if(i){var e=h.get(0).getBoundingClientRect();e.top-=5,e.bottom+=5;var g=f.get(0).getBoundingClientRect(),j=b.pageX,k=b.pageY-document.body.scrollTop;e.containsPoint(j,k)||g.containsPoint(j,k)||(c=!1,i=!1,d.addClass('hidden'),a('li.attachment').each(function(){var b=a(this);b.removeClass('info-focused'),b.removeClass('info-unfocused')}),setTimeout(function(){c=!0},300))}})}(jQuery);
//# sourceMappingURL=ilab-media-storage.js.map
