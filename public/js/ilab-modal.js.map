{"version":3,"sources":["ilab-modal-tabs.js"],"names":["$","fn","ilabTabs","options","settings","extend","sizeCanvas","this","each","container","windowContainer","parentContainer","parent","hasClass","label","find","select","tabs","minWidth","tabFont","tabMarginLeft","tabMarginRight","tabPaddingLeft","tabPaddingRight","getTextWidth","text","font","canvas","document","createElement","context","getContext","measureText","width","tab","css","parseInt","tabWidth","hasOwnProperty","removeClass","on","e","preventDefault","addClass","val","data","currentValue","tabSelected","option","checkOverflow","show","hide","window","jQuery","ILabModal","_dirty","cancel","remove","makeDirty","isDirty","makeClean","loadURL","url","partial","partialCallback","confirm","get","append","ready","currEl","attr"],"mappings":"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","file":"ilab-modal.js","sourcesContent":["(function($){\n\n    $.fn.ilabTabs=function(options){\n        var settings= $.extend({},options);\n        var sizeCanvas=null;\n\n        return this.each(function(){\n            var container=$(this);\n            var windowContainer = container;\n\n            var parentContainer = container.parent();\n            while(true) {\n                if (parentContainer.hasClass('ilabm-container')) {\n                    windowContainer = parentContainer;\n                    break;\n                }\n\n                parentContainer = parentContainer.parent();\n                if (!parentContainer) {\n                    break;\n                }\n            }\n\n            var label=container.find('.ilabm-tabs-select-label');\n            var select=container.find('.ilabm-tabs-select');\n            var tabs=container.find('.ilabm-editor-tab');\n\n            var minWidth=0;\n            var tabFont=null,tabMarginLeft=0,tabMarginRight=0,tabPaddingLeft=0,tabPaddingRight=0;\n\n            var getTextWidth=function(text, font) {\n                // re-use canvas object for better performance\n\n                var canvas = sizeCanvas || (sizeCanvas = document.createElement(\"canvas\"));\n                var context = canvas.getContext(\"2d\");\n                context.font = font;\n                var metrics = context.measureText(text);\n                return metrics.width;\n            };\n\n            tabs.each(function(){\n                var tab=$(this);\n                if (tabFont===null) {\n                    tabFont = tab.css('font');\n                    tabMarginLeft=parseInt(tab.css('margin-left'));\n                    tabMarginRight=parseInt(tab.css('margin-right'));\n                    tabPaddingLeft=parseInt(tab.css('padding-left'));\n                    tabPaddingRight=parseInt(tab.css('padding-right'));\n                }\n\n                tabWidth=getTextWidth(tab.text(),tabFont)+tabMarginLeft+tabMarginRight+tabPaddingLeft+tabPaddingRight+15;\n                minWidth+=tabWidth;\n            });\n\n            if (label && settings.hasOwnProperty('label'))\n                label.text(settings.label);\n\n            tabs.removeClass('active-tab');\n            tabs.on('click',function(e){\n                e.preventDefault();\n\n                tabs.removeClass('active-tab');\n                var tab=$(this);\n                tab.addClass('active-tab');\n\n                if (select)\n                    select.val(tab.data('value'));\n\n                settings.currentValue=tab.data('value');\n\n                if (settings.hasOwnProperty('tabSelected'))\n                    settings.tabSelected(tab);\n\n                return false;\n            });\n\n            if (select)\n            {\n                select.on('change',function(){\n                    tabs.removeClass('active-tab');\n                    tabs.each(function(){\n                        var tab=$(this);\n                        if (tab.data('value')==select.val())\n                            tab.addClass('active-tab');\n                    });\n                    var option=select.find(\":selected\");\n                    if (settings.hasOwnProperty('tabSelected'))\n                        settings.tabSelected(option);\n                });\n            }\n\n            if (settings.hasOwnProperty('currentValue'))\n            {\n                if (select)\n                    select.val(settings.currentValue);\n\n                tabs.each(function(){\n                   var tab=$(this);\n                    if (tab.data('value')==settings.currentValue)\n                        tab.addClass('active-tab');\n                });\n            }\n\n            var checkOverflow=function(){\n                if (minWidth > (windowContainer.width() - 350)) {\n                    label.show();\n                    select.show();\n                    tabs.hide();\n                }\n                else {\n                    label.hide();\n                    select.hide();\n                    tabs.show();\n                }\n            };\n\n            $(window).on('resize',checkOverflow);\n            checkOverflow();\n        });\n    };\n\n}(jQuery));\n"],"sourceRoot":"js/"}